{% extends 'HE3/baseHE.html' %}
{% load staticfiles %}

{% block breadcrumb %}
    <li class="breadcrumb"> <a href="{% url 'profiles:dashboard:user-dashboard' %}"> Dashboard </a> </li>
    <li class="breadcrumb active"><a class="text-muted" href="">Project Detail for Manager</a> </li>
{% endblock %}

{% block titleOfPage %} {{ project.name }}{% endblock %}


{% block content %}
    <div class="col-sm-9">

        {#        <div class="starter-template">#}
        {#            <h1>{{ project.name }}</h1>#}
        {#            <p class="lead"> {{ project.description }} <br> {{ project.link }}#}
        {#            </p>#}
        {#        </div>#}
        <div class="panel panel-primary">
            <div class="panel-heading text-center">
                <h3 class="lead"><strong>{{ project.name }}</strong> </h3>
            </div>

            <div class="table-responsive">
                <table class="table  table-bordered table-striped table-hover">
                    <thead>
                    <tr>
                        <th>Description</th>

                        <th>Link</th>
                        <th>Status</th>
                        <th>Number of Evaluators</th>
                        <th>Number of submitted Evaluations</th>
                        <th>Operations</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td> {{ project.description }} </td>

                        <td> <a href="{{ project.link }}"> {{ project.link }} </a> </td>

                        <td> {{ project.deadline }}
                            <span class="small">
                                    {% if project.deadline > now %}
                                        ( Deadline is in
                                        {{ project.deadline|timeuntil }} )
                                    {% else %}
                                        (Evaluation time is finished!)
                                    {% endif %}
                                    </span>
                        </td>

                        <td> {{ project.evaluators.all | length }} evaluators</td>
                        <td>{{ project.evaluation_for_project.all | length }} submitted evaluations</td>
                        <td class="text-center btn-group-sm">
                                    <span class="btn-group-sm">
                                    <a class="btn btn-info" href=" {% url 'profiles:dashboard:project_update' project.id %}">
                                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                        Edit
                                    </a>
                                    <a class="btn btn-primary" href="#">
                                        <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                                        Merge
                                    </a>
                                        <a  class="btn btn-primary" href=" {% url 'profiles:dashboard:Add-Evaluation' project.id %}">
                                            Add Evaluation
                                        </a>

                                    </span>

                            {#                            <button type='button' class="btn btn-warning btn-sm" data-toggle="modal" data-target="#project_delete_confirmation">#}
                            <a class="btn btn-warning" href=" {% url 'profiles:dashboard:project_delete' project.id %}">
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                Del
                            </a>

                            {#                            </button>#}
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

        </div>
        <div class="row">
            <div class="panel panel-success">
                <div class="panel-heading text-center"> <h4 class="lead text-success">Submitted Evaluations </h4> </div>
                <div class="panel-body">
                    <div class="table table-responsive">
{#                        <table class="table table-bordered table-striped table-hover">#}
{#                            <thead>#}
{#                            <tr>#}
{#                                <th>#</th>#}
{#                                <th>Evaluator</th>#}
{#                                <th>Heuristic Principe</th>#}
{##}
{#                                <th>Place</th>#}
{#                                <th>Description</th>#}
{##}
{#                                <th>Recommendation</th>#}
{#                                <th>Positivity</th>#}
{#                                <th>Severity</th>#}
{#                                <th>Frequency</th>#}
{#                                <th>Screenshot</th>#}
{#                                <th class=" action-checkbox-column"> <label> <input type="checkbox"></label></th>#}
{##}
{##}
{#                            </tr>#}
{#                            </thead>#}
{#                            <tbody>#}
{#                            {% for evaluator in evaluators %}#}
{#                                {% for e in evaluations %}#}
{#                                    {% if e.evaluator == evaluator %}#}
{#                                    <tr>#}
{#                                    <td>{{ forloop.counter }}</td>#}
{#                                    <td>{{ e.evaluator.name }}</td>#}
{#                                    <td>  {{ e.heurPrincip}}   </td>#}
{#                                    <td>{{ e.place }}</td>#}
{##}
{#                                    <td>{{ e.description }} </td>#}
{#                                    <td>{{ e.recommendation}}</td>#}
{##}
{#                                    <td> {{ e.positivity }}</td>#}
{##}
{#                                    <td>{{ e.severity }}</td>#}
{#                                    <td>{{ e.frequency }}</td>#}
{#                                    <td>{{ e.screenshot }}</td>#}
{#                                    <td class=" action-checkbox-column"> <label> <input type="checkbox"></label></td>#}
{#                                    {% endif %}#}
{##}
{#                                {% endfor %}#}
{#                            {% endfor %}#}
{#                            </tbody>#}
{#                        </table>#}
                    </div>
                    <div class="table table-responsive" >
                        {% include 'HE3/evaluation-tables.html' %}
                    </div>
                </div>

            </div>
        </div>


        {#        <div class="row">#}
        {#            <div class="col-sm-offset-2">#}
        {##}
        {#                <a  class="btn btn-default" href=" {% url 'profiles:dashboard:project_update' project.id %}">Edite</a>#}
        {#                <a  class="btn btn-danger" href=" {% url 'profiles:dashboard:project_delete' project.id %}">delete</a>#}
        {#                <a  class="btn btn-primary" href=" {% url 'profiles:dashboard:Add-Evaluation' project.id %}">Add Evaluation</a>#}
        {#            </div>#}
        {#        </div>#}
        {#        <div>#}
        {#            <div class="panel panel-primary">#}
        {#                <div class="panel-heading">#}
        {#                    <div class="row">#}
        {#                        <div class="col-sm-5">#}
        {#                            <p class="lead">You are the <strong>manager</strong> of these projects:</p>#}
        {#                        </div>#}
        {#                        <div class="aligned">#}
        {#                            <a class="btn btn-info btn-sm" href="{% url 'profiles:dashboard:project_create' %}">#}
        {#                                <span class="glyphicon glyphicon-plus myglyphicon " aria-hidden="true"></span>#}
        {#                                Create a new Project#}
        {#                            </a>#}
        {#                        </div>#}
        {#                    </div>#}
        {#                </div>#}
        {#            </div>#}
        {#        </div>#}
    </div><!-- /.container -->
{% endblock %}

